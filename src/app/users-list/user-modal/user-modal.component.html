<div class="modal-dialog">
    <form [formGroup]="userForm" (submit)="userModalPerformAction()">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">{{action}} User</h5>
  
          </div>
          <div class="modal-body">
            <p>Enter user details to save</p>
            <div>
              <label for="givenName">First Name</label>
              <input type="text"
                     class="form-control"
                     formControlName="givenName" />
              <span *ngIf="userFormControls.givenName.errors?.maxlength" class="text-danger">
                <b>Please enter less than 45 characters</b>
              </span>
            </div>
            <div>
              <label for="familyName">Last Name</label>
              <input type="text"
                     class="form-control"
                     formControlName="familyName" />
              <span *ngIf="userFormControls.familyName.errors?.maxlength" class="text-danger">
                <b>Please enter less than 45 characters</b>
              </span>
            </div>
            <div>
              <label for="username">Username</label>
              <input type="text"
                     class="form-control"
                     formControlName="username" />
              <span *ngIf="userFormControls.username.errors?.maxlength" class="text-danger">
                <b>Please enter less than 45 characters</b>
              </span>
            </div>
  
            <span *ngIf="action === 'Add'">
              <label for="username">Password</label>
              <input type="password"
                     class="form-control"
                     formControlName="password" />
              <span *ngIf="userFormControls.password.errors?.maxlength" class="text-danger">
                <b>Please enter less than 45 characters</b>
              </span>
            </span>
  
            <div>
              <label for="email">Email</label>
              <input type="text"
                     class="form-control"
                     formControlName="email" />
              <span *ngIf="userFormControls.email.errors?.pattern" class="text-danger">
                <b>Please enter a valid email</b>
              </span>
              <span *ngIf="userFormControls.email.errors?.maxlength" class="text-danger">
                <b>Please enter less than 50 characters</b>
              </span>
            </div>
            <div>
              <label for="phone">Phone Number</label>
              <input type="text"
                     class="form-control"
                     formControlName="phone" />
              <span *ngIf="userFormControls.phone.errors?.pattern" class="text-danger">
                <b>Please enter a valid phone number</b>
              </span>
            </div>
            <div>
              <label for="dob">Date of Birth</label>
              <input type="date"
                     class="form-control"
                     formControlName="dob"
                     max="{{now | date:'yyyy-MM-dd'}}" />
            </div>
            <div>
              <label for="streetAddress">Street Address</label>
              <input type="text"
                     class="form-control"
                     formControlName="streetAddress" />
            </div>
            <div>
              <label for="City">City</label>
              <input type="text"
                     class="form-control"
                     formControlName="city" />
            </div>
            <div>
              <label for="state">State</label>
              <input type="text"
                     class="form-control"
                     formControlName="state"
                     maxlength="2" />
              <span *ngIf="userFormControls.city.errors?.pattern" class="text-danger">
                <b>Please enter a valid state</b>
              </span>
            </div>
            <div>
              <label for="zip">Zipcode</label>
              <input type="text"
                     class="form-control"
                     formControlName="zip"
                     maxlength="5" />
              <span *ngIf="userFormControls.zip.errors?.pattern" class="text-danger">
                <b>Please enter valid zipcode</b>
              </span>
            </div>
  
            <div>
              <label for="role">Role</label>
              <div>
                <table class="table">
                  <thead>
                    <tr>
                      <td scope="col">Customer</td>
                      <td scope="col">Agent</td>
                      <td scope="col">Admin</td>
                    </tr>
                    <tr>
                      <td scope="col"><input id="customer" type="radio" value="ROLE_CUSTOMER" name="role" class="form-control" formControlName="role"></td>
                      <td scope="col"><input id="agent" type="radio" value="ROLE_AGENT" name="role" class="form-control" formControlName="role"></td>
                      <td scope="col"><input id="admin" type="radio" value="ROLE_ADMIN" name="role" class="form-control" formControlName="role"></td>
                    </tr>
                  </thead>
                </table>
              </div>
            </div>
  
            <div>
              <label for="active">Active?</label>
              <div>
                <input type="checkbox" class="form-control" formControlName="active" />
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button id="modalClose" type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="closeModal()">Cancel</button>
            <button id="modalSubmit" type="submit" class="btn btn-primary" [disabled]="userForm.invalid">Save</button>
          </div>
        </div>
     </form>
    </div>
